<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="540px" preserveAspectRatio="none" style="width:878px;height:540px;background:#FFFFFF;" version="1.1" viewBox="0 0 878 540" width="878px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="411.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="83" y="65.2188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="331.5" y="87.5703"/><rect fill="#FFFFFF" height="319.6797" style="stroke:#181818;stroke-width:1.0;" width="10" x="415" y="148.2734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="668" y="264.1953"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="393.6016"/><rect fill="none" height="215.1094" style="stroke:#000000;stroke-width:1.5;" width="497" x="375" y="223.4922"/><rect fill="none" height="122.0547" style="stroke:#000000;stroke-width:1.5;" width="477" x="385" y="309.5469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="88" x2="88" y1="55.2188" y2="485.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="229" x2="229" y1="55.2188" y2="485.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="336" x2="336" y1="55.2188" y2="485.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="420" x2="420" y1="55.2188" y2="485.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="673" x2="673" y1="55.2188" y2="485.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="797" x2="797" y1="196.3828" y2="485.9531"/><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="12" y="44.1426">:OfferDecisionController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="5" y="484.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="12" y="506.4863">:OfferDecisionController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="181" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="188" y="44.1426">:Repositories</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="181" y="484.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="188" y="506.4863">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="288" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="299.5" y="26.5332">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="295" y="44.1426">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="288" y="484.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="299.5" y="506.4863">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="295" y="524.0957">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="395" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="404" y="26.5332">Offer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="402" y="44.1426">:Offer</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="395" y="484.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="404" y="506.4863">Offer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="402" y="524.0957">:Offer</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="614" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="624.5" y="26.5332">offerRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="621" y="44.1426">:OfferRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="614" y="484.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="624.5" y="506.4863">offerRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="621" y="524.0957">:OfferRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="742" y="484.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="770" y="506.4863">OfferList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="749" y="524.0957">:List&lt;OfferList&gt;</text><rect fill="#FFFFFF" height="411.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="83" y="65.2188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="331.5" y="87.5703"/><rect fill="#FFFFFF" height="319.6797" style="stroke:#181818;stroke-width:1.0;" width="10" x="415" y="148.2734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="668" y="264.1953"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="393.6016"/><polygon fill="#181818" points="319.5,83.5703,329.5,87.5703,319.5,91.5703,323.5,87.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="93" x2="325.5" y1="87.5703" y2="87.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="100" y="82.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="111" y="82.7139">getOfferRepository()</text><polygon fill="#181818" points="104,113.9219,94,117.9219,104,121.9219,100,117.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="98" x2="335.5" y1="117.9219" y2="117.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="110" y="113.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="121" y="113.0654">OfferRepository</text><polygon fill="#181818" points="403,144.2734,413,148.2734,403,152.2734,407,148.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="93" x2="409" y1="148.2734" y2="148.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="100" y="143.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="111" y="143.417">getOffersList()</text><polygon fill="#181818" points="730,174.625,740,178.625,730,182.625,734,178.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="425" x2="736" y1="178.625" y2="178.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="432" y="173.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="443" y="173.7686">create()</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="742" y="156.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="770" y="177.8066">OfferList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="749" y="195.416">:List&lt;OfferList&gt;</text><path d="M375,223.4922 L448,223.4922 L448,231.8438 L438,241.8438 L375,241.8438 L375,223.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="215.1094" style="stroke:#000000;stroke-width:1.5;" width="497" x="375" y="223.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="390" y="237.9873">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="83" x="463" y="236.9111">[for each offer]</text><polygon fill="#181818" points="656,260.1953,666,264.1953,656,268.1953,660,264.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="425" x2="662" y1="264.1953" y2="264.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="432" y="259.3389">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="443" y="259.3389">getOffer(property)</text><polygon fill="#181818" points="436,290.5469,426,294.5469,436,298.5469,432,294.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="430" x2="672" y1="294.5469" y2="294.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="442" y="289.6904">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="453" y="289.6904">Offer</text><path d="M385,309.5469 L450,309.5469 L450,317.8984 L440,327.8984 L385,327.8984 L385,309.5469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="122.0547" style="stroke:#000000;stroke-width:1.5;" width="477" x="385" y="309.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="400" y="324.042">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="465" y="322.9658">[if offer not declined]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="425" x2="467" y1="350.25" y2="350.25"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="467" x2="467" y1="350.25" y2="363.25"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426" x2="467" y1="363.25" y2="363.25"/><polygon fill="#181818" points="436,359.25,426,363.25,436,367.25,432,363.25" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="432" y="345.3936">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="443" y="345.3936">compare(offer1Amount, offer2Amount)</text><polygon fill="#181818" points="780,389.6016,790,393.6016,780,397.6016,784,393.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="425" x2="786" y1="393.6016" y2="393.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="432" y="388.7451">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="443" y="388.7451">add(offer)</text><polygon fill="#181818" points="104,463.9531,94,467.9531,104,471.9531,100,467.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="98" x2="419" y1="467.9531" y2="467.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="110" y="463.0967">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="121" y="463.0967">OfferList</text><!--MD5=[627f9fd8ea4b1ac6464cdf59d81dca4b]
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber
participant ":OfferDecisionController" as controller
participant ":Repositories" as singleton
participant "repositories\n:Repositories" as repositories
participant "Offer\n:Offer" as offer
participant "offerRepository\n:OfferRepository" as offerrepository
participant "OfferList\n:List<OfferList>" as offerlist

activate controller

                controller -> repositories : getOfferRepository()
                    activate repositories

                        repositories - -> controller : OfferRepository
                    deactivate repositories

                controller -> offer : getOffersList()
                activate offer

                create offerlist
                offer - -> offerlist** : create()

                loop for each offer

                        offer -> offerrepository : getOffer(property)
                        activate offerrepository
                        offerrepository - -> offer : Offer
                        deactivate offerrepository
                        opt if offer not declined

                                offer - -> offer : compare(offer1Amount, offer2Amount)
                                offer -> offerlist : add(offer)
                                activate offerlist
                                deactivate offerlist

                        end

                    end

                offer - -> controller : OfferList
                deactivate offer

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>