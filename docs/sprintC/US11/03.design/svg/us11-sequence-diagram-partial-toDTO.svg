<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="643px" preserveAspectRatio="none" style="width:845px;height:643px;background:#FFFFFF;" version="1.1" viewBox="0 0 845 643" width="845px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="506.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="83" y="65.2188"/><rect fill="#FFFFFF" height="484.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="294" y="87.5703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="492" y="203.4922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="612" y="393.25"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="745.5" y="307.5469"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="745.5" y="497.3047"/><rect fill="none" height="379.5156" style="stroke:#000000;stroke-width:1.5;" width="609" x="230" y="162.7891"/><rect fill="none" height="182.7578" style="stroke:#000000;stroke-width:1.5;" width="589" x="240" y="352.5469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="88" x2="88" y1="55.2188" y2="589.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="299" x2="299" y1="55.2188" y2="589.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="497" x2="497" y1="55.2188" y2="589.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="617" x2="617" y1="55.2188" y2="589.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="750" x2="750" y1="135.6797" y2="589.6563"/><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="12" y="44.1426">:OfferDecisionController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="5" y="588.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="12" y="610.1895">:OfferDecisionController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="250" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="257" y="44.1426">:OfferMapper</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="250" y="588.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="257" y="610.1895">:OfferMapper</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="442" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="459" y="26.5332">PropertyList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="449" y="44.1426">:List&lt;Property&gt;</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="442" y="588.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="459" y="610.1895">PropertyList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="449" y="627.7988">:List&lt;Property&gt;</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="562" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="590" y="26.5332">OfferList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="569" y="44.1426">:List&lt;OfferList&gt;</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="562" y="588.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="590" y="610.1895">OfferList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="569" y="627.7988">:List&lt;OfferList&gt;</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="682" y="588.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="710" y="610.1895">JointListDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="689" y="627.7988">:List&lt;JointListDTO&gt;</text><rect fill="#FFFFFF" height="506.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="83" y="65.2188"/><rect fill="#FFFFFF" height="484.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="294" y="87.5703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="492" y="203.4922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="612" y="393.25"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="745.5" y="307.5469"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="745.5" y="497.3047"/><polygon fill="#181818" points="282,83.5703,292,87.5703,282,91.5703,286,87.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="93" x2="288" y1="87.5703" y2="87.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="100" y="82.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="111" y="82.7139">toDTO(PropertyList, OfferList)</text><polygon fill="#181818" points="670,113.9219,680,117.9219,670,121.9219,674,117.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="304" x2="676" y1="117.9219" y2="117.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="311" y="113.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="322" y="113.0654">create()</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="682" y="95.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="710" y="117.1035">JointListDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="689" y="134.7129">:List&lt;JointListDTO&gt;</text><path d="M230,162.7891 L303,162.7891 L303,171.1406 L293,181.1406 L230,181.1406 L230,162.7891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="379.5156" style="stroke:#000000;stroke-width:1.5;" width="609" x="230" y="162.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="245" y="177.2842">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="141" x="318" y="176.208">[for each property object]</text><polygon fill="#181818" points="480,199.4922,490,203.4922,480,207.4922,484,203.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="486" y1="203.4922" y2="203.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="311" y="198.6357">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="322" y="198.6357">getProperty(i)</text><polygon fill="#181818" points="315,229.8438,305,233.8438,315,237.8438,311,233.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="309" x2="496" y1="233.8438" y2="233.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="321" y="228.9873">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="332" y="228.9873">property</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="304" x2="346" y1="264.1953" y2="264.1953"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="346" x2="346" y1="264.1953" y2="277.1953"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="346" y1="277.1953" y2="277.1953"/><polygon fill="#181818" points="315,273.1953,305,277.1953,315,281.1953,311,277.1953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="311" y="259.3389">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="322" y="259.3389">storeDTO = toDTO(property)</text><polygon fill="#181818" points="733.5,303.5469,743.5,307.5469,733.5,311.5469,737.5,307.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="739.5" y1="307.5469" y2="307.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="311" y="302.6904">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="322" y="302.6904">add(storeDTO)</text><path d="M240,352.5469 L313,352.5469 L313,360.8984 L303,370.8984 L240,370.8984 L240,352.5469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="182.7578" style="stroke:#000000;stroke-width:1.5;" width="589" x="240" y="352.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="255" y="367.042">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="120" x="328" y="365.9658">[for each offer object]</text><polygon fill="#181818" points="600,389.25,610,393.25,600,397.25,604,393.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="606" y1="393.25" y2="393.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="311" y="388.3936">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="322" y="388.3936">getOffer(property)</text><polygon fill="#181818" points="315,419.6016,305,423.6016,315,427.6016,311,423.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="309" x2="616" y1="423.6016" y2="423.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="321" y="418.7451">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="332" y="418.7451">offer</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="304" x2="346" y1="453.9531" y2="453.9531"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="346" x2="346" y1="453.9531" y2="466.9531"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="346" y1="466.9531" y2="466.9531"/><polygon fill="#181818" points="315,462.9531,305,466.9531,315,470.9531,311,466.9531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="311" y="449.0967">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="322" y="449.0967">offerDTO = toDTO(offer)</text><polygon fill="#181818" points="733.5,493.3047,743.5,497.3047,733.5,501.3047,737.5,497.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="304" x2="739.5" y1="497.3047" y2="497.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="311" y="492.4482">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="329" y="492.4482">add(offerDTO)</text><polygon fill="#181818" points="99,567.6563,89,571.6563,99,575.6563,95,571.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="93" x2="298" y1="571.6563" y2="571.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="105" y="566.7998">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="123" y="566.7998">JointList</text><!--MD5=[a0b63ad67702ba669bf6671a94729e32]
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

participant ":OfferDecisionController" as controller
participant ":OfferMapper" as mapper
participant "PropertyList\n:List<Property>" as propertylist
participant "OfferList\n:List<OfferList>" as offerlist
participant "JointListDTO\n:List<JointListDTO>" as jointlist

activate controller
                controller -> mapper : toDTO(PropertyList, OfferList)
                activate mapper

                create jointlist
                mapper - -> jointlist** : create()


                loop for each property object
                    
                    mapper -> propertylist : getProperty(i)
                    activate propertylist
                    propertylist - -> mapper : property
                    deactivate propertylist

                    mapper - -> mapper : storeDTO = toDTO(property)

                    mapper -> jointlist : add(storeDTO)
                    activate jointlist
                    deactivate jointlist

                    loop for each offer object

                        mapper -> offerlist : getOffer(property)
                        activate offerlist
                        offerlist - -> mapper : offer
                        deactivate offerlist
                        mapper - -> mapper : offerDTO = toDTO(offer)
                        mapper -> jointlist : add(offerDTO)
                        activate jointlist
                        deactivate jointlist

                    end
 
                end

                mapper - -> controller : JointList
                deactivate mapper

        deactivate controller


@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>